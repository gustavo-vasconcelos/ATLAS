(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a3d2"],{bb51:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadingData?n("div",[t.events.today.length?n("div",[n("TitleAtlas",[t._v("Eventos de hoje")]),t.windowWidth>=768?t._l(t.events.today,(function(t){return n("EventListItem",{key:"today_"+t._id,staticClass:"mb-1",attrs:{event:t}})})):[n("Carousel",{attrs:{margin:30,nav:!1,responsive:t.carouselResponsivity}},t._l(t.events.today,(function(t){return n("EventCard",{key:"today_"+t._id,attrs:{event:t}})})),1)]],2):t._e(),t.getLoggedUser.username&&t.events.suggested.length?n("div",{class:t.events.today.length?"mt-5":""},[n("TitleAtlas",[t._v("Próximos eventos que poderá gostar")]),t._l(t.events.suggested,(function(e){return[t.windowWidth>=768?[n("EventListItem",{key:"suggested_"+e._id,attrs:{event:e}})]:[n("EventCard",{key:"suggested_"+e._id,staticClass:"mb-1",attrs:{event:e}})]]}))],2):t.events.next.length?n("div",{class:t.events.today.length?"mt-5":""},[n("TitleAtlas",[t._v("Próximos eventos")]),t._l(t.events.next,(function(e){return[t.windowWidth>=768?[n("EventListItem",{key:"next_"+e.id,staticClass:"mb-1",attrs:{event:e}})]:[n("EventCard",{key:"next_"+e.id,staticClass:"mb-1",attrs:{event:e}})]]}))],2):t._e(),t.users.length?n("div",{staticClass:"mt-5"},[n("TitleAtlas",[t._v("TOP "+t._s(t.users.length>=4?"4":t.users.length)+" inscrições em eventos")]),n("div",{staticClass:"row text-center"},t._l(t.users,(function(e,s){return n("div",{key:"user_"+e._id,staticClass:"col-lg-3 col-md-6 col-12 mb-4"},[s<=3?[n("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:e.username}}}},[n("img",{staticClass:"rounded-circle img-thumbnail",staticStyle:{"max-width":"200px","max-height":"200px"},attrs:{src:e.picture}})]),n("h5",[t._v(t._s(e.amount)+" inscrições")]),n("div",[n("router-link",{staticClass:"text-atlas2",attrs:{to:{name:"profile",params:{username:e.username}}}},[t._v("@"+t._s(e.username))])],1)]:t._e()],2)})),0)],1):t._e(),t.events.top.length?n("div",{staticClass:"mt-5"},[n("TitleAtlas",[t._v("TOP "+t._s(t.events.top.length>=4?"4":t.events.top.length)+" eventos com mais inscrições")]),t.windowWidth>=768?[t._l(t.events.top,(function(e,s){return[s<=3?n("EventListItem",{key:"top_"+e.id+"_"+s,staticClass:"mb-1",attrs:{event:e}}):t._e()]}))]:[n("Carousel",{attrs:{margin:30,nav:!1,responsive:t.carouselResponsivity}},[t._l(t.events.top,(function(e,s){return[s<=3?n("EventCard",{key:"top_"+e.id+"_"+s,attrs:{event:e}}):t._e()]}))],2)]],2):t._e()]):n("div",{staticClass:"text-center"},[n("b-spinner",{staticStyle:{width:"8rem",height:"8rem"},attrs:{variant:"atlas",label:"A carregar..."}})],1)])},r=[],a=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("1da1")),i=n("ade3"),o=n("2f62"),c=n("fc6e"),u=n("7ec7"),d=n.n(u),l=n("a69d"),v=n("d85a");function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"HomeView",components:{TitleAtlas:c["a"],Carousel:d.a,EventCard:l["a"],EventListItem:v["a"]},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.loadTodays(),this.loadNext(),this.getLoggedUser.username&&this.loadSuggested(),this.loadTopUsers(),this.loadTopEvents()},data:function(){return{loading:{today:!1,next:!1,suggested:!1,topEvents:!1,users:!1},events:{today:[],next:[],top:[],suggested:[]},users:[],windowWidth:0,carouselResponsivity:{0:{items:1},768:{items:2},1200:{items:3}}}},computed:g(g({},Object(o["c"])(["getLoggedUser"])),{},{loadingData:function(){return!this.loading.today&&!this.loading.next&&!this.loading.topEvents&&!this.loading.suggested&&!this.loading.users}}),methods:{handleResize:function(){this.windowWidth=window.innerWidth},loadTodays:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading.today=!0,t.prev=1,t.next=4,this.$http.get("/events/occasions/today");case 4:e=t.sent,this.events.today=e.data.content.events,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:this.loading.today=!1;case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),loadNext:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading.next=!0,t.prev=1,t.next=4,this.$http.get("/events/occasions/next");case 4:e=t.sent,this.events.next=e.data.content.events,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:this.loading.next=!1;case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),loadSuggested:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading.suggested=!0,t.prev=1,t.next=4,this.$http.get("/events/suggested/".concat(this.getLoggedUser._id));case 4:e=t.sent,this.events.suggested=e.data.content.events,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:this.loading.suggested=!1;case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),loadTopUsers:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading.users=!0,t.prev=1,t.next=4,this.$http.get("/users/top");case 4:e=t.sent,this.users=e.data.content.users,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:this.loading.users=!1;case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),loadTopEvents:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading.top=!0,t.prev=1,t.next=4,this.$http.get("/events/top");case 4:e=t.sent,this.events.top=e.data.content.events,t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:this.loading.top=!1;case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}()}},m=p,f=n("2877"),w=Object(f["a"])(m,s,r,!1,null,null,null);e["default"]=w.exports}}]);